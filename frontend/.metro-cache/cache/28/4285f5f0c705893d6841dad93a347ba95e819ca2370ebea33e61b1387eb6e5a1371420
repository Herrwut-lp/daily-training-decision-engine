{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useTrainingStore\", {\n    enumerable: true,\n    get: function () {\n      return useTrainingStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://training-program.barney-lab.xyz';\n  const useTrainingStore = (0, _zustand.create)((set, get) => ({\n    currentSession: null,\n    userState: null,\n    lastQuestionnaire: null,\n    overrideBucket: null,\n    setCurrentSession: session => set({\n      currentSession: session\n    }),\n    setUserState: state => set({\n      userState: state\n    }),\n    setLastQuestionnaire: q => set({\n      lastQuestionnaire: q\n    }),\n    setOverrideBucket: bucket => set({\n      overrideBucket: bucket\n    }),\n    fetchUserState: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/state`);\n        const data = await response.json();\n        set({\n          userState: data\n        });\n      } catch (error) {\n        console.error('Error fetching user state:', error);\n      }\n    },\n    toggleCooldownOverride: async () => {\n      const {\n        userState\n      } = get();\n      if (!userState) return;\n      try {\n        const newValue = !userState.cooldown_override;\n        const response = await fetch(`${BACKEND_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            cooldown_override: newValue\n          })\n        });\n        const data = await response.json();\n        set({\n          userState: data\n        });\n      } catch (error) {\n        console.error('Error toggling cooldown override:', error);\n      }\n    }\n  }));\n});","lineCount":69,"map":[[7,2,66,0,"Object"],[7,8,66,0],[7,9,66,0,"defineProperty"],[7,23,66,0],[7,24,66,0,"exports"],[7,31,66,0],[8,4,66,0,"enumerable"],[8,14,66,0],[9,4,66,0,"get"],[9,7,66,0],[9,18,66,0,"get"],[9,19,66,0],[10,6,66,0],[10,13,66,0,"useTrainingStore"],[10,29,66,0],[11,4,66,0],[12,2,66,0],[13,2,104,4],[13,6,104,4,"_expoVirtualEnv"],[13,21,104,4],[13,24,104,4,"require"],[13,31,104,4],[13,32,104,4,"_dependencyMap"],[13,46,104,4],[14,2,1,0],[14,6,1,0,"_zustand"],[14,14,1,0],[14,17,1,0,"require"],[14,24,1,0],[14,25,1,0,"_dependencyMap"],[14,39,1,0],[15,2,3,0],[15,8,3,6,"BACKEND_URL"],[15,19,3,17],[15,22,3,20,"_expoVirtualEnv"],[15,37,3,20],[15,38,3,20,"env"],[15,41,3,20],[15,42,3,20,"EXPO_PUBLIC_BACKEND_URL"],[15,65,3,20],[15,69,3,59],[15,110,3,100],[16,2,66,7],[16,8,66,13,"useTrainingStore"],[16,24,66,29],[16,27,66,32],[16,31,66,32,"create"],[16,39,66,38],[16,40,66,38,"create"],[16,46,66,38],[16,48,66,54],[16,49,66,55,"set"],[16,52,66,58],[16,54,66,60,"get"],[16,57,66,63],[16,63,66,69],[17,4,67,2,"currentSession"],[17,18,67,16],[17,20,67,18],[17,24,67,22],[18,4,68,2,"userState"],[18,13,68,11],[18,15,68,13],[18,19,68,17],[19,4,69,2,"lastQuestionnaire"],[19,21,69,19],[19,23,69,21],[19,27,69,25],[20,4,70,2,"overrideBucket"],[20,18,70,16],[20,20,70,18],[20,24,70,22],[21,4,72,2,"setCurrentSession"],[21,21,72,19],[21,23,72,22,"session"],[21,30,72,29],[21,34,72,34,"set"],[21,37,72,37],[21,38,72,38],[22,6,72,40,"currentSession"],[22,20,72,54],[22,22,72,56,"session"],[23,4,72,64],[23,5,72,65],[23,6,72,66],[24,4,73,2,"setUserState"],[24,16,73,14],[24,18,73,17,"state"],[24,23,73,22],[24,27,73,27,"set"],[24,30,73,30],[24,31,73,31],[25,6,73,33,"userState"],[25,15,73,42],[25,17,73,44,"state"],[26,4,73,50],[26,5,73,51],[26,6,73,52],[27,4,74,2,"setLastQuestionnaire"],[27,24,74,22],[27,26,74,25,"q"],[27,27,74,26],[27,31,74,31,"set"],[27,34,74,34],[27,35,74,35],[28,6,74,37,"lastQuestionnaire"],[28,23,74,54],[28,25,74,56,"q"],[29,4,74,58],[29,5,74,59],[29,6,74,60],[30,4,75,2,"setOverrideBucket"],[30,21,75,19],[30,23,75,22,"bucket"],[30,29,75,28],[30,33,75,33,"set"],[30,36,75,36],[30,37,75,37],[31,6,75,39,"overrideBucket"],[31,20,75,53],[31,22,75,55,"bucket"],[32,4,75,62],[32,5,75,63],[32,6,75,64],[33,4,77,2,"fetchUserState"],[33,18,77,16],[33,20,77,18],[33,26,77,18,"fetchUserState"],[33,27,77,18],[33,32,77,30],[34,6,78,4],[34,10,78,8],[35,8,79,6],[35,14,79,12,"response"],[35,22,79,20],[35,25,79,23],[35,31,79,29,"fetch"],[35,36,79,34],[35,37,79,35],[35,40,79,38,"BACKEND_URL"],[35,51,79,49],[35,63,79,61],[35,64,79,62],[36,8,80,6],[36,14,80,12,"data"],[36,18,80,16],[36,21,80,19],[36,27,80,25,"response"],[36,35,80,33],[36,36,80,34,"json"],[36,40,80,38],[36,41,80,39],[36,42,80,40],[37,8,81,6,"set"],[37,11,81,9],[37,12,81,10],[38,10,81,12,"userState"],[38,19,81,21],[38,21,81,23,"data"],[39,8,81,28],[39,9,81,29],[39,10,81,30],[40,6,82,4],[40,7,82,5],[40,8,82,6],[40,15,82,13,"error"],[40,20,82,18],[40,22,82,20],[41,8,83,6,"console"],[41,15,83,13],[41,16,83,14,"error"],[41,21,83,19],[41,22,83,20],[41,50,83,48],[41,52,83,50,"error"],[41,57,83,55],[41,58,83,56],[42,6,84,4],[43,4,85,2],[43,5,85,3],[44,4,87,2,"toggleCooldownOverride"],[44,26,87,24],[44,28,87,26],[44,34,87,26,"toggleCooldownOverride"],[44,35,87,26],[44,40,87,38],[45,6,88,4],[45,12,88,10],[46,8,88,12,"userState"],[47,6,88,22],[47,7,88,23],[47,10,88,26,"get"],[47,13,88,29],[47,14,88,30],[47,15,88,31],[48,6,89,4],[48,10,89,8],[48,11,89,9,"userState"],[48,20,89,18],[48,22,89,20],[49,6,91,4],[49,10,91,8],[50,8,92,6],[50,14,92,12,"newValue"],[50,22,92,20],[50,25,92,23],[50,26,92,24,"userState"],[50,35,92,33],[50,36,92,34,"cooldown_override"],[50,53,92,51],[51,8,93,6],[51,14,93,12,"response"],[51,22,93,20],[51,25,93,23],[51,31,93,29,"fetch"],[51,36,93,34],[51,37,93,35],[51,40,93,38,"BACKEND_URL"],[51,51,93,49],[51,66,93,64],[51,68,93,66],[52,10,94,8,"method"],[52,16,94,14],[52,18,94,16],[52,23,94,21],[53,10,95,8,"headers"],[53,17,95,15],[53,19,95,17],[54,12,95,19],[54,26,95,33],[54,28,95,35],[55,10,95,54],[55,11,95,55],[56,10,96,8,"body"],[56,14,96,12],[56,16,96,14,"JSON"],[56,20,96,18],[56,21,96,19,"stringify"],[56,30,96,28],[56,31,96,29],[57,12,96,31,"cooldown_override"],[57,29,96,48],[57,31,96,50,"newValue"],[58,10,96,59],[58,11,96,60],[59,8,97,6],[59,9,97,7],[59,10,97,8],[60,8,98,6],[60,14,98,12,"data"],[60,18,98,16],[60,21,98,19],[60,27,98,25,"response"],[60,35,98,33],[60,36,98,34,"json"],[60,40,98,38],[60,41,98,39],[60,42,98,40],[61,8,99,6,"set"],[61,11,99,9],[61,12,99,10],[62,10,99,12,"userState"],[62,19,99,21],[62,21,99,23,"data"],[63,8,99,28],[63,9,99,29],[63,10,99,30],[64,6,100,4],[64,7,100,5],[64,8,100,6],[64,15,100,13,"error"],[64,20,100,18],[64,22,100,20],[65,8,101,6,"console"],[65,15,101,13],[65,16,101,14,"error"],[65,21,101,19],[65,22,101,20],[65,57,101,55],[65,59,101,57,"error"],[65,64,101,62],[65,65,101,63],[66,6,102,4],[67,4,103,2],[68,2,104,0],[68,3,104,1],[68,4,104,2],[68,5,104,3],[69,0,104,4],[69,3]],"functionMap":{"names":["<global>","create$argument_0","setCurrentSession","setUserState","setLastQuestionnaire","setOverrideBucket","fetchUserState","toggleCooldownOverride"],"mappings":"AAA;sDCiE;qBCM,6CD;gBEC,oCF;wBGC,oCH;qBIC,2CJ;kBKE;GLQ;0BME;GNgB;EDC"},"hasCjsExports":false},"type":"js/module"}]}