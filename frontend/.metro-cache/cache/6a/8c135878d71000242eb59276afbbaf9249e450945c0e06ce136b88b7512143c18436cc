{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useTrainingStore\", {\n    enumerable: true,\n    get: function () {\n      return useTrainingStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var useTrainingStore = (0, _zustand.create)((set, get) => ({\n    currentSession: null,\n    userState: null,\n    lastQuestionnaire: null,\n    overrideBucket: null,\n    setCurrentSession: session => set({\n      currentSession: session\n    }),\n    setUserState: state => set({\n      userState: state\n    }),\n    setLastQuestionnaire: q => set({\n      lastQuestionnaire: q\n    }),\n    setOverrideBucket: bucket => set({\n      overrideBucket: bucket\n    }),\n    fetchUserState: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var response = yield fetch(`${BACKEND_URL}/api/state`);\n          var data = yield response.json();\n          set({\n            userState: data\n          });\n        } catch (error) {\n          console.error('Error fetching user state:', error);\n        }\n      });\n      return function fetchUserState() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    toggleCooldownOverride: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        var _get = get(),\n          userState = _get.userState;\n        if (!userState) return;\n        try {\n          var newValue = !userState.cooldown_override;\n          var response = yield fetch(`${BACKEND_URL}/api/settings`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              cooldown_override: newValue\n            })\n          });\n          var data = yield response.json();\n          set({\n            userState: data\n          });\n        } catch (error) {\n          console.error('Error toggling cooldown override:', error);\n        }\n      });\n      return function toggleCooldownOverride() {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":85,"map":[[12,2,66,0,"Object"],[12,8,66,0],[12,9,66,0,"defineProperty"],[12,23,66,0],[12,24,66,0,"exports"],[12,31,66,0],[13,4,66,0,"enumerable"],[13,14,66,0],[14,4,66,0,"get"],[14,7,66,0],[14,18,66,0,"get"],[14,19,66,0],[15,6,66,0],[15,13,66,0,"useTrainingStore"],[15,29,66,0],[16,4,66,0],[17,2,66,0],[18,2,104,4],[18,6,104,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,104,4],[18,45,104,4,"require"],[18,52,104,4],[18,53,104,4,"_dependencyMap"],[18,67,104,4],[19,2,104,4],[19,6,104,4,"_asyncToGenerator"],[19,23,104,4],[19,26,104,4,"_interopDefault"],[19,41,104,4],[19,42,104,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,104,4],[20,2,104,4],[20,6,104,4,"_expoVirtualEnv"],[20,21,104,4],[20,24,104,4,"require"],[20,31,104,4],[20,32,104,4,"_dependencyMap"],[20,46,104,4],[21,2,1,0],[21,6,1,0,"_zustand"],[21,14,1,0],[21,17,1,0,"require"],[21,24,1,0],[21,25,1,0,"_dependencyMap"],[21,39,1,0],[22,2,3,0],[22,6,3,6,"BACKEND_URL"],[22,17,3,17],[22,20,3,17,"_expoVirtualEnv"],[22,35,3,17],[22,36,3,17,"env"],[22,39,3,17],[22,40,3,17,"EXPO_PUBLIC_BACKEND_URL"],[22,63,3,55],[23,2,66,7],[23,6,66,13,"useTrainingStore"],[23,22,66,29],[23,25,66,32],[23,29,66,32,"create"],[23,37,66,38],[23,38,66,38,"create"],[23,44,66,38],[23,46,66,54],[23,47,66,55,"set"],[23,50,66,58],[23,52,66,60,"get"],[23,55,66,63],[23,61,66,69],[24,4,67,2,"currentSession"],[24,18,67,16],[24,20,67,18],[24,24,67,22],[25,4,68,2,"userState"],[25,13,68,11],[25,15,68,13],[25,19,68,17],[26,4,69,2,"lastQuestionnaire"],[26,21,69,19],[26,23,69,21],[26,27,69,25],[27,4,70,2,"overrideBucket"],[27,18,70,16],[27,20,70,18],[27,24,70,22],[28,4,72,2,"setCurrentSession"],[28,21,72,19],[28,23,72,22,"session"],[28,30,72,29],[28,34,72,34,"set"],[28,37,72,37],[28,38,72,38],[29,6,72,40,"currentSession"],[29,20,72,54],[29,22,72,56,"session"],[30,4,72,64],[30,5,72,65],[30,6,72,66],[31,4,73,2,"setUserState"],[31,16,73,14],[31,18,73,17,"state"],[31,23,73,22],[31,27,73,27,"set"],[31,30,73,30],[31,31,73,31],[32,6,73,33,"userState"],[32,15,73,42],[32,17,73,44,"state"],[33,4,73,50],[33,5,73,51],[33,6,73,52],[34,4,74,2,"setLastQuestionnaire"],[34,24,74,22],[34,26,74,25,"q"],[34,27,74,26],[34,31,74,31,"set"],[34,34,74,34],[34,35,74,35],[35,6,74,37,"lastQuestionnaire"],[35,23,74,54],[35,25,74,56,"q"],[36,4,74,58],[36,5,74,59],[36,6,74,60],[37,4,75,2,"setOverrideBucket"],[37,21,75,19],[37,23,75,22,"bucket"],[37,29,75,28],[37,33,75,33,"set"],[37,36,75,36],[37,37,75,37],[38,6,75,39,"overrideBucket"],[38,20,75,53],[38,22,75,55,"bucket"],[39,4,75,62],[39,5,75,63],[39,6,75,64],[40,4,77,2,"fetchUserState"],[40,18,77,16],[41,6,77,16],[41,10,77,16,"_ref"],[41,14,77,16],[41,21,77,16,"_asyncToGenerator"],[41,38,77,16],[41,39,77,16,"default"],[41,46,77,16],[41,48,77,18],[41,61,77,30],[42,8,78,4],[42,12,78,8],[43,10,79,6],[43,14,79,12,"response"],[43,22,79,20],[43,31,79,29,"fetch"],[43,36,79,34],[43,37,79,35],[43,40,79,38,"BACKEND_URL"],[43,51,79,49],[43,63,79,61],[43,64,79,62],[44,10,80,6],[44,14,80,12,"data"],[44,18,80,16],[44,27,80,25,"response"],[44,35,80,33],[44,36,80,34,"json"],[44,40,80,38],[44,41,80,39],[44,42,80,40],[45,10,81,6,"set"],[45,13,81,9],[45,14,81,10],[46,12,81,12,"userState"],[46,21,81,21],[46,23,81,23,"data"],[47,10,81,28],[47,11,81,29],[47,12,81,30],[48,8,82,4],[48,9,82,5],[48,10,82,6],[48,17,82,13,"error"],[48,22,82,18],[48,24,82,20],[49,10,83,6,"console"],[49,17,83,13],[49,18,83,14,"error"],[49,23,83,19],[49,24,83,20],[49,52,83,48],[49,54,83,50,"error"],[49,59,83,55],[49,60,83,56],[50,8,84,4],[51,6,85,2],[51,7,85,3],[52,6,85,3],[52,22,77,2,"fetchUserState"],[52,36,77,16,"fetchUserState"],[52,37,77,16],[53,8,77,16],[53,15,77,16,"_ref"],[53,19,77,16],[53,20,77,16,"apply"],[53,25,77,16],[53,32,77,16,"arguments"],[53,41,77,16],[54,6,77,16],[55,4,77,16],[55,7,85,3],[56,4,87,2,"toggleCooldownOverride"],[56,26,87,24],[57,6,87,24],[57,10,87,24,"_ref2"],[57,15,87,24],[57,22,87,24,"_asyncToGenerator"],[57,39,87,24],[57,40,87,24,"default"],[57,47,87,24],[57,49,87,26],[57,62,87,38],[58,8,88,4],[58,12,88,4,"_get"],[58,16,88,4],[58,19,88,26,"get"],[58,22,88,29],[58,23,88,30],[58,24,88,31],[59,10,88,12,"userState"],[59,19,88,21],[59,22,88,21,"_get"],[59,26,88,21],[59,27,88,12,"userState"],[59,36,88,21],[60,8,89,4],[60,12,89,8],[60,13,89,9,"userState"],[60,22,89,18],[60,24,89,20],[61,8,91,4],[61,12,91,8],[62,10,92,6],[62,14,92,12,"newValue"],[62,22,92,20],[62,25,92,23],[62,26,92,24,"userState"],[62,35,92,33],[62,36,92,34,"cooldown_override"],[62,53,92,51],[63,10,93,6],[63,14,93,12,"response"],[63,22,93,20],[63,31,93,29,"fetch"],[63,36,93,34],[63,37,93,35],[63,40,93,38,"BACKEND_URL"],[63,51,93,49],[63,66,93,64],[63,68,93,66],[64,12,94,8,"method"],[64,18,94,14],[64,20,94,16],[64,25,94,21],[65,12,95,8,"headers"],[65,19,95,15],[65,21,95,17],[66,14,95,19],[66,28,95,33],[66,30,95,35],[67,12,95,54],[67,13,95,55],[68,12,96,8,"body"],[68,16,96,12],[68,18,96,14,"JSON"],[68,22,96,18],[68,23,96,19,"stringify"],[68,32,96,28],[68,33,96,29],[69,14,96,31,"cooldown_override"],[69,31,96,48],[69,33,96,50,"newValue"],[70,12,96,59],[70,13,96,60],[71,10,97,6],[71,11,97,7],[71,12,97,8],[72,10,98,6],[72,14,98,12,"data"],[72,18,98,16],[72,27,98,25,"response"],[72,35,98,33],[72,36,98,34,"json"],[72,40,98,38],[72,41,98,39],[72,42,98,40],[73,10,99,6,"set"],[73,13,99,9],[73,14,99,10],[74,12,99,12,"userState"],[74,21,99,21],[74,23,99,23,"data"],[75,10,99,28],[75,11,99,29],[75,12,99,30],[76,8,100,4],[76,9,100,5],[76,10,100,6],[76,17,100,13,"error"],[76,22,100,18],[76,24,100,20],[77,10,101,6,"console"],[77,17,101,13],[77,18,101,14,"error"],[77,23,101,19],[77,24,101,20],[77,59,101,55],[77,61,101,57,"error"],[77,66,101,62],[77,67,101,63],[78,8,102,4],[79,6,103,2],[79,7,103,3],[80,6,103,3],[80,22,87,2,"toggleCooldownOverride"],[80,44,87,24,"toggleCooldownOverride"],[80,45,87,24],[81,8,87,24],[81,15,87,24,"_ref2"],[81,20,87,24],[81,21,87,24,"apply"],[81,26,87,24],[81,33,87,24,"arguments"],[81,42,87,24],[82,6,87,24],[83,4,87,24],[84,2,104,0],[84,3,104,1],[84,4,104,2],[84,5,104,3],[85,0,104,4],[85,3]],"functionMap":{"names":["<global>","create$argument_0","setCurrentSession","setUserState","setLastQuestionnaire","setOverrideBucket","fetchUserState","toggleCooldownOverride"],"mappings":"AAA;sDCiE;qBCM,6CD;gBEC,oCF;wBGC,oCH;qBIC,2CJ;kBKE;GLQ;0BME;GNgB;EDC"},"hasCjsExports":false},"type":"js/module"}]}